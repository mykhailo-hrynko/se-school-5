# ðŸ§ª Functional Testing for Middle Developers

Ð¢ÐµÑÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ â€” Ñ†Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ¸, Ñ‡Ð¸ Ð¿Ñ€Ð°Ñ†ÑŽÑ” ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð½Ð¾ Ð´Ð¾ Ð²Ð¸Ð¼Ð¾Ð³.

**ðŸŽ¯ ÐœÐµÑ‚Ð° Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ:**
- Ð—Ð½Ð°Ð¹Ñ‚Ð¸ Ð½ÐµÐ´Ð¾Ð»Ñ–ÐºÐ¸ ÑÐºÐ¾Ð¼Ð¾Ð³Ð° Ñ€Ð°Ð½Ñ–ÑˆÐµ (Ñ‰Ð¾Ð± Ð·Ð¼ÐµÐ½ÑˆÐ¸Ñ‚Ð¸ Ð²Ð°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸).
- ÐŸÐµÑ€ÐµÐºÐ¾Ð½Ð°Ñ‚Ð¸ÑÑ, Ñ‰Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ñ€Ð°Ñ†ÑŽÑ” ÐºÐ¾Ñ€ÐµÐºÑ‚Ð½Ð¾ Ð¿Ñ–ÑÐ»Ñ Ð·Ð¼Ñ–Ð½ ÐºÐ¾Ð´Ñƒ Ñ‡Ð¸ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ—.

**Ð¤ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ– Ñ‚ÐµÑÑ‚Ð¸** Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑŽÑ‚ÑŒ, Ñ‰Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°:
- âœ… Ð¿Ð¾Ð²ÐµÑ€Ñ‚Ð°Ñ” Ð¾Ñ‡Ñ–ÐºÑƒÐ²Ð°Ð½Ñ– Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¸
- âœ… Ð²Ð¸ÐºÐ¾Ð½ÑƒÑ” Ð»Ð¸ÑˆÐµ Ð·Ð°Ð¿Ð»Ð°Ð½Ð¾Ð²Ð°Ð½Ñ– Ð´Ñ–Ñ—

**ÐÐµÑ„ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ–** Ñ‚ÐµÑÑ‚Ð¸ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑŽÑ‚ÑŒ Ð´Ð¾Ð´Ð°Ñ‚ÐºÐ¾Ð²Ñ– Ð²Ð¸Ð¼Ð¾Ð³Ð¸. ÐÐ°Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´:

- ðŸš€ **Performance Testing** â€” ÑˆÐ²Ð¸Ð´ÐºÐ¾Ð´Ñ–Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸
- ðŸ“Š **Load Testing** â€” Ñ‡Ð¸ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¿Ñ€Ð°Ñ†ÑŽÑ” ÐºÐ¾Ñ€ÐµÐºÑ‚Ð½Ð¾ Ð¿Ñ–Ð´ Ð²Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¼ Ð½Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½ÑÐ¼
- ðŸ”¥ **Stress Testing** â€” Ð¿Ð¾Ð²ÐµÐ´Ñ–Ð½ÐºÐ° ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸ Ð² ÑÑ‚Ñ€ÐµÑÐ¾Ð²Ð¸Ñ… ÑƒÐ¼Ð¾Ð²Ð°Ñ…
- ðŸ›¡ï¸ **Security Testing** â€” Ð²Ñ–Ð´ÑÑƒÑ‚Ð½Ñ–ÑÑ‚ÑŒ Ð²Ñ€Ð°Ð·Ð»Ð¸Ð²Ð¾ÑÑ‚ÐµÐ¹ Ñƒ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ–
- ðŸ‘ **Usability Testing** â€” Ð·Ñ€ÑƒÑ‡Ð½Ñ–ÑÑ‚ÑŒ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ
- â™¿ **Accessibility Testing** â€” Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ–ÑÑ‚ÑŒ Ð´Ð»Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ñ–Ð² Ð· Ð¾Ð±Ð¼ÐµÐ¶ÐµÐ½Ð½ÑÐ¼Ð¸
- ðŸ’» **Compatibility Testing** â€” Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð½Ð° Ñ€Ñ–Ð·Ð½Ð¸Ñ… ÐžÐ¡/Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°Ñ…/Ð¿Ñ€Ð¸ÑÑ‚Ñ€Ð¾ÑÑ…
- ðŸŒ **Localization Testing** â€” Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð¿ÐµÑ€ÐµÐºÐ»Ð°Ð´Ñƒ, Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ–Ð²

> Ð¢ÐµÑÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ð²Ñ€ÑƒÑ‡Ð½Ñƒ â€” Ð´Ð¾Ð²Ð³Ð¾, Ð´Ð¾Ñ€Ð¾Ð³Ð¾ Ð¹ Ð½ÐµÐ½Ð°Ð´Ñ–Ð¹Ð½Ð¾ (Ñ‡ÐµÑ€ÐµÐ· Ð»ÑŽÐ´ÑÑŒÐºÐ¸Ð¹ Ñ„Ð°ÐºÑ‚Ð¾Ñ€). Ð¢Ð¾Ð¼Ñƒ Ð´Ð°Ð»Ñ– Ñ€Ð¾Ð·Ð³Ð»ÑÐ½ÐµÐ¼Ð¾ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¾Ð²Ð°Ð½Ðµ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð»ÑŒÐ½Ðµ Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ.

## Ð Ñ–Ð·Ð½Ð¾Ð²Ð¸Ð´Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ

**SUT** (System under the test) - ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ñ‡Ð¸ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ, Ñ‰Ð¾ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑ”Ñ‚ÑŒÑÑ.

**Mock** - Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ, Ð¾Ð±'Ñ”ÐºÑ‚ Ñ‡Ð¸ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ, ÑÐºÐ¸Ð¹ Ð¿Ñ–Ð´ÑÑ‚Ð°Ð²Ð»ÑÑ”Ñ‚ÑŒÑÑ Ð² **SUT** Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ñ— Ð·Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚Ñ–, Ð´Ð»Ñ ÐµÐ¼ÑƒÐ»ÑÑ†Ñ–Ñ— Ð±Ð°Ð¶Ð°Ð½Ð¾Ñ— Ð¿Ð¾Ð²ÐµÐ´Ñ–Ð½ÐºÐ¸ Ñ‡Ð¸ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ–Ð² Ð²Ð¸ÐºÐ»Ð¸ÐºÑƒ. Ð—Ð°Ð·Ð²Ð¸Ñ‡Ð°Ð¹ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ñ– Ð´Ð»Ñ Ð¼Ð¾Ð´ÑƒÐ»Ñ–Ð², ÑÐºÑ– Ð¼Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÐ¼Ð¾ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŽÐ²Ð°Ñ‚Ð¸.

Ð¢ÐµÑÑ‚Ð¸ Ñ€Ð¾Ð·Ð¿Ð¾Ð´Ñ–Ð»ÑÑŽÑ‚ÑŒ Ð½Ð° 3 Ñ€Ñ–Ð²Ð½Ñ–:

| Ð Ñ–Ð²ÐµÐ½ÑŒ          | Ð©Ð¾ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑ”Ð¼Ð¾ (SUT)                    | Ð‘Ñ–Ð±Ð»Ñ–Ð¾Ñ‚ÐµÐºÐ¸          |
| --------------- | --------------------------------------- | ------------------- |
| **Unit**        | ÐžÐºÑ€ÐµÐ¼Ð° Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ Ñ‡Ð¸ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ                | Vitest, Jest, Mocha |
| **Integration** | ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¸ Ñ€Ð°Ð·Ð¾Ð¼ (API + Ð±Ð°Ð·Ð° + ÑÐµÑ€Ð²Ñ–ÑÐ¸) |                     |
| **End to End**  | ÐŸÐ¾Ð²Ð½Ð¸Ð¹ ÑˆÐ»ÑÑ… ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð° + Ð±Ñ–Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ñ–ÐºÐ° | Playwright, Cypress |

ÐŸÐ¾Ð´Ð¸Ð²Ð¸ÑÑŒ [Ð²Ð¸ÑÑ‚ÑƒÐ¿ Kent C. Dodds](https://kentcdodds.com/blog/write-tests) Ñ‰Ð¾Ð± Ð²Ð¸Ð·Ð½Ð°Ñ‡Ð¸Ñ‚Ð¸ÑÑ, ÑÐºÐ¸Ñ… Ñ‚ÐµÑÑ‚Ñ–Ð² Ð¼Ð°Ñ” Ð±ÑƒÑ‚Ð¸ Ð±Ñ–Ð»ÑŒÑˆÐµ Ñ– Ñ‡Ð¾Ð¼Ñƒ.

- Ð“Ð°Ñ€Ð½Ñ– Ñ‚ÐµÑÑ‚Ð¸ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑŽÑ‚ÑŒ Ð¿Ð¾Ð²ÐµÐ´Ñ–Ð½ÐºÑƒ ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸ Ð· Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð·Ð¾Ñ€Ñƒ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°, Ð° Ð½Ðµ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñƒ Ñ€ÐµÐ°Ð»Ñ–Ð·Ð°Ñ†Ñ–ÑŽ
- Test coverage 100% Ð½Ðµ Ð³Ð°Ñ€Ð°Ð½Ñ‚ÑƒÑ”, Ñ‰Ð¾ Ñ‚ÐµÑÑ‚Ð¸ ÑÐºÑ–ÑÐ½Ñ–
- ÐÐ°Ð´Ð¼Ñ–Ñ€Ð½Ðµ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð¼Ð¾ÐºÑ–Ð² Ð¿Ñ€Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð´Ð¾ "ÐºÑ€Ð¸Ñ…ÐºÐ¸Ñ…" Ñ‚ÐµÑÑ‚Ñ–Ð². ÐœÐ¾ÐºÐ°Ð¹ Ñ‚Ðµ Ñ‰Ð¾ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑˆ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŽÐ²Ð°Ñ‚Ð¸ (ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½Ñ– ÑÐµÑ€Ð²Ñ–ÑÐ¸, Ð±Ð°Ð·Ñƒ, ...)
- Ð¯ÐºÑ‰Ð¾ Ñ‚ÐµÑÑ‚Ð¸ Ð¿Ð°Ð´Ð°ÑŽÑ‚ÑŒ Ð¿Ñ–Ð´ Ñ‡Ð°Ñ Ñ€ÐµÑ„Ð°ÐºÑ‚Ð¾Ñ€Ñ–Ð½Ð³Ñƒ, Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÑŒ Ñ‚ÐµÑÑ‚ÑƒÑŽÑ‚ÑŒÑÑ Ð´ÐµÑ‚Ð°Ð»Ñ– Ñ–Ð¼Ð¿Ð»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ—
- Ð¢ÐµÑÑ‚Ð¸, ÑÐº Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ Ð¼Ð°ÑŽÑ‚ÑŒ Ð±ÑƒÑ‚Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ñ– Ñ‚Ð° Ð·Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ð»Ñ–

## Ð¢Ð¸Ð¿Ð¾Ð²Ð° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ‚ÐµÑÑ‚Ñƒ

Ð¢ÐµÑÑ‚Ð¸ Ð½Ðµ Ð¼Ð°ÑŽÑ‚ÑŒ Ð·Ð°Ð»ÐµÐ¶Ð°Ñ‚Ð¸ Ð¾Ð´Ð½Ðµ Ð²Ñ–Ð´ Ð¾Ð´Ð½Ð¾Ð³Ð¾. Ð¢Ð¾Ð¼Ñƒ:

- Ð¿ÐµÑ€ÐµÐ´ Ñ‚ÐµÑÑ‚Ð¾Ð¼ Ñ‚Ñ€ÐµÐ±Ð° Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð·Ð°ÑÑ‚Ð¾ÑÑƒÐ½Ð¾Ðº (Ð° Ð½Ðµ Ð¾Ñ‡Ñ–ÐºÑƒÐ²Ð°Ñ‚Ð¸ Ñ‰Ð¾ Ð²Ñ–Ð½ Ð´Ð¾ÑÑ– Ð¿Ñ€Ð°Ñ†ÑŽÑ” Ð¿Ñ–ÑÐ»Ñ Ð¿Ð¾Ð¿ÐµÑ€ÐµÐ´Ð½Ñ–Ñ… Ñ‚ÐµÑÑ‚Ñ–Ð²)
- Ð¿Ñ–ÑÐ»Ñ Ñ‚ÐµÑÑ‚Ñƒ Ñ‚Ñ€ÐµÐ±Ð° Ð¿Ð¾Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¸ Ð´Ð¾ Ð¿Ð¾Ñ‡Ð°Ñ‚ÐºÐ¾Ð²Ð¾Ð³Ð¾ ÑÑ‚Ð°Ð½Ñƒ ÑƒÑÑ– stateful Ñ€ÐµÑÑƒÑ€ÑÐ¸ (Ð±Ð°Ð·Ñƒ, Ð¼Ð¾ÐºÐ¸, Ñ‚Ð¾Ñ‰Ð¾)

```ts
type TestContext = {
  app: App;
  baseUrl: string;
};

// .sequential - to launch tests one after another
describe.sequential("Module Name", () => {
  beforeEach<TestContext>(async (t) => {
    // Prepare environment common for all tests
    t.app = createApp(testLogger, testConfig, ...);
    await t.app.start();

    // use to send requests to your api
    t.baseUrl = `http://${t.app.address}:${t.app.port}`;
  });

  afterEach<TestContext>(async (t) => {
    await t.app.stop();
    await db.reset();
    vi.clearAllMocks();
  });

  it<TestContext>("creates subscription with for new email and existing city", (t) => {
    // prepare data
    // perform tested actions
    // check result
  });

  it("fails if email is already registered", ...);
});
````

> ðŸ§¼ Ð¢ÐµÑÑ‚Ð¸ Ð¼Ð°ÑŽÑ‚ÑŒ Ð±ÑƒÑ‚Ð¸ **Ñ–Ð·Ð¾Ð»ÑŒÐ¾Ð²Ð°Ð½Ñ–**: Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ‚Ð¸ Ð²ÑÐµ Ð·Ð°Ð½Ð¾Ð²Ð¾, Ð¾Ñ‡Ð¸Ñ‰Ð°Ñ‚Ð¸ state, Ð½Ðµ Ð¿Ð¾ÐºÐ»Ð°Ð´Ð°Ñ‚Ð¸ÑÑ Ð½Ð° Ð¿Ð¾Ð¿ÐµÑ€ÐµÐ´Ð½Ñ–Ð¹ Ñ‚ÐµÑÑ‚.

---

## âš™ï¸ Ð—Ð°Ð³Ð°Ð»ÑŒÐ½Ñ– Ð¿Ð¾Ñ€Ð°Ð´Ð¸

- ÐŸÐ¸ÑˆÐ¸ ÐºÐ¾Ð´ Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ð¹Ð¾Ð³Ð¾ Ð±ÑƒÐ»Ð¾ **Ð·Ñ€ÑƒÑ‡Ð½Ð¾ Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ñ‚Ð¸**.
- Ð¢ÐµÑÑ‚Ð¸ Ð¼Ð°ÑŽÑ‚ÑŒ Ð±ÑƒÑ‚Ð¸ **Ð¿Ñ€Ð¾ÑÑ‚Ð¸Ð¼Ð¸ Ñ– Ð·Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ð»Ð¸Ð¼Ð¸** â€” ÑÐº Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ.
- ÐŸÑ€Ð¸ Ñ€Ð¾Ð·Ñ€Ð¾Ð±Ñ†Ñ– Ð·Ð°Ð¿ÑƒÑÐºÐ°Ð¹ ÐºÐ¾Ð´ **Ñ‡ÐµÑ€ÐµÐ· Ñ‚ÐµÑÑ‚Ð¸** (TDD Ð°Ð±Ð¾ Ñ…Ð¾Ñ‡Ð° Ð± test-first mindset).
- ÐŸÐµÑ€ÐµÐ´ Ð²Ð¸Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½ÑÐ¼ Ð±Ð°Ð³Ñƒ â€” Ð½Ð°Ð¿Ð¸ÑˆÐ¸ Ñ‚ÐµÑÑ‚, ÑÐºÐ¸Ð¹ **Ð¿Ð°Ð´Ð°Ñ”**.
- Ð¯ÐºÑ‰Ð¾ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð·Ð¼Ñ–Ð½Ð¸Ð»Ð°ÑÑŒ, Ð° Ð¶Ð¾Ð´ÐµÐ½ Ñ‚ÐµÑÑ‚ Ð½Ðµ Ð²Ð¿Ð°Ð² â€” Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ð¸ **Ð½Ðµ Ð¿Ð¾Ð²Ð½Ñ–**.
- Ð”Ð¾Ð±Ñ€Ñ– Ñ‚ÐµÑÑ‚Ð¸ Ð´Ð¾Ð¿Ð¾Ð¼Ð°Ð³Ð°ÑŽÑ‚ÑŒ **Ð·Ð½Ð°Ð¹Ñ‚Ð¸ Ñ– Ð·Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ñ‚Ð¸** Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ.
- Ð¯ÐºÑ‰Ð¾ Ð²Ð¿Ð°Ð² Ñ‚ÐµÑÑ‚ Ð²Ð¸Ñ‰Ð¾Ð³Ð¾ Ñ€Ñ–Ð²Ð½Ñ, Ð¿Ð¾Ð´ÑƒÐ¼Ð°Ð¹ Ñ Ð¿Ñ€Ð¾Ñ‚ÐµÑÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ñ†Ðµ Ñ€Ð°Ð½Ñ–ÑˆÐµ

## ðŸ” ÐŸÐµÑ€ÐµÐ²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ñ— Ð»Ð¾Ð³Ñ–ÐºÐ¸

Ð”ÑƒÐ±Ð»ÑŽÐ²Ð°Ð½Ð½Ñ ÐºÐ¾Ð´Ñƒ Ð² Ñ‚ÐµÑÑ‚Ð°Ñ… Ñ†Ðµ Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½Ð¾ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾. Ð¦Ðµ Ð´Ð¾Ð·Ð²Ð¾Ð»ÑÑ” Ð¾Ð´Ñ€Ð°Ð·Ñƒ Ð¿Ð¾Ð±Ð°Ñ‡Ð¸Ñ‚Ð¸ Ñ‰Ð¾ Ð²Ñ–Ð´Ð±ÑƒÐ²Ð°Ñ”Ñ‚ÑŒÑÑ Ð² Ñ‚ÐµÑÑ‚Ñ– Ð±ÐµÐ· Ð½ÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ð¾ÑÑ‚Ñ– Ð´Ð¸Ð²Ð¸Ñ‚Ð¸ÑÑ ÐºÐ¾Ð´ Ð² Ñ–Ð½ÑˆÐ¸Ñ… Ð¼Ñ–ÑÑ†ÑÑ….

ÐÐ»Ðµ Ñ–Ð½Ð¾Ð´Ñ– Ñ‚ÐµÑÑ‚Ð¸ ÑÑ‚Ð°ÑŽÑ‚ÑŒ Ð´ÑƒÐ¶Ðµ Ð³Ñ€Ð¾Ð¼Ñ–Ð·Ð´ÐºÐ¸Ð¼Ð¸, Ñ‰Ð¾ ÑƒÑÐºÐ»Ð°Ð´Ð½ÑŽÑ” Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ð½Ð½Ñ. Ð”Ð»Ñ ÑÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ñ Ñ‚ÐµÑÑ‚Ñ–Ð² Ð¼Ð¾Ð¶Ð½Ð° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ñ–Ð´Ñ…Ð¾Ð´Ð¸ Ð· ÑˆÐ°Ð±Ð»Ð¾Ð½Ð°Ð¼Ð¸:

> Ð”Ð»Ñ UI-Ñ‚ÐµÑÑ‚Ñ–Ð². Ð†Ð½ÐºÐ°Ð¿ÑÑƒÐ»ÑŽÑŽÑ‚ÑŒ Ð»Ð¾Ð³Ñ–ÐºÑƒ Ð²Ð·Ð°Ñ”Ð¼Ð¾Ð´Ñ–Ñ— Ð· Ñ–Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¾Ð¼.

```ts
export class LoginPage {
  constructor(private page: Page) {}

  async goto() {
    await this.page.goto("/login");
  }

  async login(email: string, password: string) {
    await this.page.fill('[data-testid="email"]', email);
    await this.page.fill('[data-testid="password"]', password);
    await this.page.click('[data-testid="submit"]');
  }

  async getError() {
    return this.page.textContent('[data-testid="error"]');
  }
}
```

ðŸ“ Ð—Ñ€ÑƒÑ‡Ð½Ð¾ Ð´Ð»Ñ E2E Ð· Playwright/Cypress.

---

### ðŸ§ª Test Drivers

> Ð”Ð»Ñ unit/integration Ñ‚ÐµÑÑ‚Ñ–Ð². Ð†Ð½ÐºÐ°Ð¿ÑÑƒÐ»ÑŽÑŽÑ‚ÑŒ Ð»Ð¾Ð³Ñ–ÐºÑƒ ÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ SUT, Ð¼Ð¾ÐºÑ–Ð² Ñ‚Ð° Ð²Ð·Ð°Ñ”Ð¼Ð¾Ð´Ñ–Ñ— Ð· API.

```ts
export class SubscriptionDriver {
  constructor(private app: App, private db: Db) {}

  async createUser(email: string) {
    await this.db.insertUser({ email });
  }

  async subscribe(email: string, city: string) {
    return await this.app.inject({
      method: "POST",
      url: "/subscribe",
      payload: { email, city },
    });
  }
}
```

ðŸ“ ÐŸÐ¾Ð»ÐµÐ³ÑˆÑƒÑ” Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð½Ñ Ñ– Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ Ñ‚ÐµÑÑ‚Ñ–Ð², Ð·Ð¼ÐµÐ½ÑˆÑƒÑ” boilerplate.

---

### âœ… Custom Assertions

> ÐŸÐµÑ€ÐµÐ²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ð½Ñ– Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€Ð¾Ðº.

```ts
import { validate } from "uuid";

export function toBeUuid(received: string) {
  if (typeof received !== "string") {
    return {
      pass: false,
      message: () =>
        `Expected the value to be a string, but got ${typeof received}.`,
    };
  }

  if (!validate(received)) {
    return {
      pass: false,
      message: () => `Expected the value to be a UUID, but got ${received}.`,
    };
  }

  return { pass: true, message: () => "" };
}
```

```ts
expect("hello").toBeUuid()
```
---
